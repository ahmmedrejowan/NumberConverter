{
  "id": "binary_subtraction",
  "title": "Binary Arithmetic: Subtraction",
  "category": "ADVANCED",
  "estimatedTimeMinutes": 20,
  "order": 23,
  "prerequisites": ["binary_addition", "negative_binary"],
  "description": "Master binary subtraction using both direct borrowing and two's complement methods.",
  "sections": [
    {
      "type": "theory",
      "title": "Binary Subtraction by Borrowing",
      "content": "Binary subtraction can be performed using borrowing, similar to decimal subtraction.\n\n**Four Basic Rules:**\n• 0 - 0 = 0\n• 1 - 0 = 1\n• 1 - 1 = 0\n• 0 - 1 = 1 (borrow from next column)\n\n**Example: 1101 - 0110**\n```\n   ¹⁰¹  (borrow indicators)\n   1101\n -  0110\n -------\n   0111\n```\n\nStep-by-step:\n• Column 1: 1-0=1\n• Column 2: 0-1, borrow → 10-1=1\n• Column 3: 0(after borrow)-1, borrow → 10-1=1\n• Column 4: 0(after borrow)-0=0\n\n**Result:** 1101 - 0110 = 0111 (7 in decimal)\n\n**Verification:** 13 - 6 = 7 ✓"
    },
    {
      "type": "theory",
      "title": "Subtraction Using Two's Complement",
      "content": "The elegant way to subtract in computers: convert subtraction to addition!\n\n**Method: A - B = A + (-B)**\n1. Find two's complement of B\n2. Add it to A\n3. Discard overflow bit\n\n**Example: 9 - 4 in 8-bit**\n• A = 9 = 00001001\n• B = 4 = 00000100\n• -B = 11111100 (two's complement of 4)\n```\n  00001001 (9)\n+ 11111100 (-4)\n-----------\n 100000101\n```\n• Discard 9th bit: 00000101 = 5\n\n**Advantages:**\n• No special subtraction circuitry needed\n• Same hardware for addition and subtraction\n• Works perfectly with negative numbers\n\n**Example: -3 - 2 in 8-bit**\n• -3 = 11111101\n• -2 = 11111110 (two's complement of 2)\n• Add: 11111101 + 11111110 = 111111011\n• Discard 9th bit: 11111011 = -5 ✓"
    },
    {
      "type": "interactive",
      "title": "Subtraction Practice",
      "description": "Subtract binary numbers using either method.",
      "exercise": {
        "id": "sub_binary_1",
        "problem": "Subtract: 10110 - 01010",
        "correctAnswer": "01100",
        "difficulty": "MEDIUM",
        "explanation": "Method 1 (Borrowing): 0-0=0, 1-1=0, 1-0=1, 0-1 borrow → 1, 0-0=0. Result: 01100\nMethod 2 (Two's Complement): 10110 + 10110 (two's comp of 01010) = 101100, discard overflow: 01100",
        "hints": [
          "You can use either borrowing or two's complement",
          "With two's complement: find -01010 and add it",
          "22 - 10 = 12 in decimal"
        ]
      }
    },
    {
      "type": "practice",
      "title": "Practice Exercises",
      "exercises": [
        {
          "id": "sub_practice_1",
          "problem": "Subtract: 1111 - 0001",
          "correctAnswer": "1110",
          "difficulty": "EASY",
          "explanation": "1-1=0, 1-0=1, 1-0=1, 1-0=1. Result: 1110 (14 in decimal)",
          "hints": [
            "No borrowing needed here",
            "15 - 1 = 14"
          ]
        },
        {
          "id": "sub_practice_2",
          "problem": "Subtract: 10000 - 00001",
          "correctAnswer": "01111",
          "difficulty": "EASY",
          "explanation": "0-1 borrow propagates through all zeros. Result: 01111 (16 - 1 = 15)",
          "hints": [
            "This is like 10 - 1 in decimal",
            "Borrow will propagate"
          ]
        },
        {
          "id": "sub_practice_3",
          "problem": "Subtract 8 - 3 using 8-bit two's complement. Express answer in decimal.",
          "correctAnswer": "5",
          "difficulty": "MEDIUM",
          "explanation": "+8 = 00001000, -3 = 11111101. Addition: 00001000 + 11111101 = 100000101. Discard 9th bit: 00000101 = 5",
          "hints": [
            "Convert 8 and 3 to 8-bit binary",
            "Find two's complement of 3",
            "Add 8 + (-3)"
          ]
        },
        {
          "id": "sub_practice_4",
          "problem": "Subtract: 11010 - 01101",
          "correctAnswer": "01101",
          "difficulty": "MEDIUM",
          "explanation": "Using borrowing: 0-1 borrow, 1-0-1=0, 0-1 borrow, 1-1-1 borrow, 1-0-1=0. Result: 01101 (26 - 13 = 13)",
          "hints": [
            "Track your borrows carefully",
            "Or use two's complement: easier!"
          ]
        },
        {
          "id": "sub_practice_5",
          "problem": "Subtract 5 - 7 using 8-bit two's complement. Express answer in decimal.",
          "correctAnswer": "-2",
          "difficulty": "HARD",
          "explanation": "+5 = 00000101, -7 = 11111001. Addition: 00000101 + 11111001 = 11111110. This is -2 in two's complement.",
          "hints": [
            "The result will be negative",
            "5 = 00000101, -7 = 11111001",
            "The result 11111110 is negative (MSB=1)"
          ]
        }
      ]
    },
    {
      "type": "quiz",
      "title": "Knowledge Check",
      "questions": [
        {
          "type": "MultipleChoice",
          "id": "sub_q1",
          "questionText": "What is the result of 10 - 1 in binary (without borrowing)?",
          "options": [
            "1",
            "01",
            "10",
            "Cannot subtract without borrowing"
          ],
          "correctAnswerIndex": 2,
          "explanation": "10 - 1 = 1 (with borrowing), but the result is written as just '1'. If we maintain bit width, it's 01. The most natural answer is 1, which equals 01.",
          "hints": [
            "0-1 requires borrowing from the next column",
            "After borrowing: 10-1=1"
          ]
        },
        {
          "type": "TrueFalse",
          "id": "sub_q2",
          "questionText": "Using two's complement, subtraction A - B is performed as A + (-B).",
          "correctAnswer": true,
          "explanation": "True. This is the fundamental principle of two's complement subtraction: convert to addition of the negative.",
          "hints": [
            "This is why two's complement is so useful",
            "Subtraction becomes addition"
          ]
        },
        {
          "type": "FillBlank",
          "id": "sub_q3",
          "questionText": "Subtract: 1100 - 0101",
          "correctAnswer": "0111",
          "acceptableAnswers": ["0111", "111"],
          "explanation": "12 - 5 = 7. In binary: 0111",
          "hints": [
            "12 - 5 = 7 in decimal",
            "7 in binary is 111 or 0111"
          ]
        },
        {
          "type": "MultipleChoice",
          "id": "sub_q4",
          "questionText": "Why is two's complement preferred over direct borrowing in computer hardware?",
          "options": [
            "It's easier for humans to understand",
            "It produces more accurate results",
            "It allows using the same addition circuitry for subtraction",
            "It requires fewer bits"
          ],
          "correctAnswerIndex": 2,
          "explanation": "Two's complement allows computers to use their addition circuits for both addition and subtraction, simplifying hardware design.",
          "hints": [
            "Think about hardware efficiency",
            "Reusing circuits saves space and cost"
          ]
        },
        {
          "type": "FillBlank",
          "id": "sub_q5",
          "questionText": "What is 6 - 8 using 8-bit two's complement? Express in decimal.",
          "correctAnswer": "-2",
          "acceptableAnswers": ["-2"],
          "explanation": "+6 = 00000110, -8 = 11111000. Addition: 00000110 + 11111000 = 11111110 = -2",
          "hints": [
            "The result will be negative",
            "6 = 00000110, -8 = 11111000",
            "Add them together"
          ]
        },
        {
          "type": "TrueFalse",
          "id": "sub_q6",
          "questionText": "When subtracting with borrowing, borrowing from 0 requires propagating the borrow to the next non-zero bit.",
          "correctAnswer": true,
          "explanation": "True. Just like in decimal (e.g., 1000 - 1), you must borrow through multiple zeros until you reach a 1.",
          "hints": [
            "Think about 10000 - 1",
            "Similar to decimal: 1000 - 1 = 999"
          ]
        },
        {
          "type": "MultipleChoice",
          "id": "sub_q7",
          "questionText": "What happens to the overflow bit when subtracting using two's complement?",
          "options": [
            "It indicates an error",
            "It's kept as part of the result",
            "It's discarded",
            "It determines the sign of the result"
          ],
          "correctAnswerIndex": 2,
          "explanation": "The overflow bit (9th bit in 8-bit arithmetic) is discarded. The remaining bits contain the correct result.",
          "hints": [
            "Two's complement handles this automatically",
            "The result width stays the same"
          ]
        }
      ]
    }
  ]
}
